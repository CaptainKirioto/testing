{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["/* ------------- Axios import ------------- */\n\nimport axios from 'axios';\n// import '../css/styles.css';\n\n/* ----------- iziToast ----------- */\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n/* ------------- Swiper import ------------- */\n\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport 'swiper/css/navigation';\n\n/* ------------- Swiper configs ------------- */\n\nconst swiper = new Swiper('.swiper', {\n  modules: [Navigation, Keyboard],\n  speed: 400,\n  spaceBetween: 20,\n  centeredSlides: false,\n  centeredSlidesBounds: true,\n  autoHeight: true,\n\n  breakpoints: {\n    // when window width is >= 1280px\n    1280: {\n      slidesPerView: 2,\n    },\n    // when window width is < 1280px\n    0: {\n      slidesPerView: 'auto',\n    },\n  },\n\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n});\n\nconst loader = document.querySelector('.loader');\n\n/* ------------- Loader ------------- */\n\nfunction hideLoader() {\n  loader.style.visibility = 'collapsed';\n}\n\nfunction showLoader() {\n  loader.style.visibility = 'visible';\n}\n\nhideLoader();\n\n/* ------------- HTTP request ------------- */\n\nconst BASE_URL = 'https://portfolio-js.b.goit.study/api/reviews';\n\nconst reviews = document.querySelector('.swiper-wrapper');\n\nasync function getReviews() {\n  const response = await axios.get(BASE_URL, {});\n  return response.data;\n}\n\n/* ------------- Markup ------------- */\n\nfunction createMarkup(reviews1) {\n  return reviews1\n    .map(\n      review =>\n        `\n      <li class=\"swiper-slide\" id=\"review-slide\">\n      <p class=\"reviews-text\">${review.review}</p>\n      <div class=\"review-author-data\">\n          <a class=\"reviews-img-link\" href=\"${review.avatar_url}\">\n          <img class=\"reviews-img\" alt=\"author's avatar\" src=\"${review.avatar_url}\"/>\n          </a>\n          <p class=\"reviews-name\">${review.author}</p>\n      </div>\n      </li>`\n    )\n    .join('');\n}\n\n/* ------------- Getting reviews ------------- */\n\nconst errorContainer = document.querySelector('.error-container');\nconst swiperContainer = document.querySelector('.swiper');\n\ngetReviews()\n  .then(data => {\n    errorContainer.style.display = 'none';\n\n    if (data.length > 0) {\n      showLoader();\n      reviews.insertAdjacentHTML('beforeend', createMarkup(data));\n    } else {\n      reviews.insertAdjacentHTML('beforeend', 'Not found');\n      iziToast.show({\n        message: 'Sorry, no reviews found',\n        maxWidth: '432px',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        messageColor: '#FFFFFF',\n      });\n    }\n  })\n  .catch(error => {\n    swiperContainer.style.display = 'none';\n    errorContainer.insertAdjacentHTML('beforeend', `<p>Not found</p>`);\n    iziToast.show({\n      message: 'Sorry, no reviews found',\n      maxWidth: '432px',\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      messageColor: '#FFFFFF',\n    });\n  })\n  .finally(() => {\n    hideLoader();\n  });\n"],"names":["Swiper","Navigation","Keyboard","loader","hideLoader","showLoader","BASE_URL","reviews","getReviews","axios","createMarkup","reviews1","review","errorContainer","swiperContainer","data","iziToast","error"],"mappings":"kxBAmBe,IAAIA,EAAO,UAAW,CACnC,QAAS,CAACC,EAAYC,CAAQ,EAC9B,MAAO,IACP,aAAc,GACd,eAAgB,GAChB,qBAAsB,GACtB,WAAY,GAEZ,YAAa,CAEX,KAAM,CACJ,cAAe,CAChB,EAED,EAAG,CACD,cAAe,MAChB,CACF,EAED,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EAED,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,CACH,CAAC,EAED,MAAMC,EAAS,SAAS,cAAc,SAAS,EAI/C,SAASC,GAAa,CACpBD,EAAO,MAAM,WAAa,WAC5B,CAEA,SAASE,GAAa,CACpBF,EAAO,MAAM,WAAa,SAC5B,CAEAC,IAIA,MAAME,EAAW,gDAEXC,EAAU,SAAS,cAAc,iBAAiB,EAExD,eAAeC,GAAa,CAE1B,OADiB,MAAMC,EAAM,IAAIH,EAAU,CAAE,CAAA,GAC7B,IAClB,CAIA,SAASI,EAAaC,EAAU,CAC9B,OAAOA,EACJ,IACCC,GACE;AAAA;AAAA,gCAEwBA,EAAO,MAAM;AAAA;AAAA,8CAECA,EAAO,UAAU;AAAA,gEACCA,EAAO,UAAU;AAAA;AAAA,oCAE7CA,EAAO,MAAM;AAAA;AAAA,YAG5C,EACA,KAAK,EAAE,CACZ,CAIA,MAAMC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAkB,SAAS,cAAc,SAAS,EAExDN,EAAY,EACT,KAAKO,GAAQ,CACZF,EAAe,MAAM,QAAU,OAE3BE,EAAK,OAAS,GAChBV,IACAE,EAAQ,mBAAmB,YAAaG,EAAaK,CAAI,CAAC,IAE1DR,EAAQ,mBAAmB,YAAa,WAAW,EACnDS,EAAS,KAAK,CACZ,QAAS,0BACT,SAAU,QACV,SAAU,WACV,gBAAiB,UACjB,aAAc,SACtB,CAAO,EAEP,CAAG,EACA,MAAMC,GAAS,CACdH,EAAgB,MAAM,QAAU,OAChCD,EAAe,mBAAmB,YAAa,kBAAkB,EACjEG,EAAS,KAAK,CACZ,QAAS,0BACT,SAAU,QACV,SAAU,WACV,gBAAiB,UACjB,aAAc,SACpB,CAAK,CACL,CAAG,EACA,QAAQ,IAAM,CACbZ,GACJ,CAAG"}